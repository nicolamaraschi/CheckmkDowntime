[2025-10-31 11:15:53] Inizio test API backend... (Log completo in api_test.log)
[2025-10-31 11:15:53] URL Base: http://localhost:8000/api
[2025-10-31 11:15:53] Token (primi 10 caratteri): eyJraWQiOi...
[2025-10-31 11:15:53] [1;33m-----------------------------------------------------[0m
[2025-10-31 11:15:53] [1;33m--- INIZIO TEST: Connection Test ---[0m
[2025-10-31 11:15:53] [0;34mEndpoint: GET http://localhost:8000/api/connection-test[0m
[2025-10-31 11:15:53] Auth: No
[2025-10-31 11:16:03] Risposta (HTTP 200) ricevuta in 10s
[2025-10-31 11:16:03] --- Corpo della Risposta ---
    {"status":"success","message":"Connected to Checkmk vunknown in 10.54s"}
[2025-10-31 11:16:04] ----------------------------
[2025-10-31 11:16:04] [0;32mRISULTATO: PASS (HTTP 200)[0m
[2025-10-31 11:16:04] [1;33m--- FINE TEST: Connection Test ---[0m

[2025-10-31 11:16:04] [1;33m-----------------------------------------------------[0m
[2025-10-31 11:16:04] [1;33m--- INIZIO TEST: Get Hosts ---[0m
[2025-10-31 11:16:04] [0;34mEndpoint: GET http://localhost:8000/api/hosts[0m
[2025-10-31 11:16:04] Auth: S√¨ (Token fornito)
[2025-10-31 11:16:35] Risposta (HTTP 200) ricevuta in 31s
[2025-10-31 11:16:35] --- Corpo della Risposta ---
    {"hosts":["MK-COPROB","SRVBASTION01","SRVHANADVH","SRVHANAPRH","SRVHANAQUH","SRVSAPAS1C4P","SRVSAPAS2C4P","SRVSAPC4D","SRVSAPC4Q","SRVSAPCBD","SRVSAPCBP","SRVSAPCCPRD","SRVSAPCSD","SRVSAPCSP","SRVSAPMSC4P","SRVSAPRTR","BIPRD","ERPDB01","ERPPRD","ERPQLT","ERPSVI","MK-ARISTONCAVI","SRVSAPDDM","SRVSAPDEV","SRVSAPPRD","SRVSAPTST","MK-ZAPI","ZG-BCCDEV","ZG-HANA-DVH","ZG-SAP-Z4D","ZG-SAPROUTER","ATHP03","ATHS03","MK-ARCOSERVIZI","ATHVIR44","ATHVIR45","ATHVIR46","ATHVIR48","ATHVIR61","ATHVIR62","MK-VEGA","nb-cs-csd","nb-cs-csp","nb-hana-dvh","nb-hana-prh","nb-hana-qah","nb-mk-monit","nb-rtrwdscc","nb-sap-n4d","nb-sap-n4q","nb-sapas1-n4p","nb-sapms-n4p","nb-solman","MK-BRICO","SAPBIDEV","SAPBIPRD","SAPECCAS1","SAPECCASP","SAPECCDEV","SAPECCPRD","SAPECQ2","SAPPIDEV","SAPPIPRD","SAPROUTER01","SAPSOLMAN72","SRVSAPDEV.PRV.MAZZER.COM","SRVSAPPRO.PRV.MAZZER.COM","SRVSAPROUTER","ILHU-HANA-P01","ILHU-HANA-T01","ILHU-SAP-P01","ILHU-SAP-T01","ILIT-HANA-P01","ILIT-HANA-T01","ILIT-SAP-P01","ILIT-SAP-T01","MK-TECNINOX","TEC-SAPROUTER","TEIT-HANA-P01","TEIT-HANA-T01","TEIT-SAP-P01","TEIT-SAP-S01","TEIT-SAP-T01","FUS-CHECKMK","FUS-HANA-PRH","FUS-SAP-FSP","FUS-SAPCC","FUS-SAPROUTER","MK-ELETTRIC80","SAP22","SAP23","SAP24","SAP25","SAPBW01","SAPBW02","SAPBW03","SAPBW04","SAPBW05","SAPBW06","SAPDMS401","SAPDMS402","SAPDMS403","SAPROUTER-E80","SAPS403","SAPS404","SAPS405","SAPS406","SAPS407","SAPS408","SAPS409","SAPS410","SAPS411","SAPS412","SAPS413","SAPS414","SAPS4NFS01","SAPS4NFS02","SAPS4SBD","SAPWDISP01","SRV-E80DMS01","SRV-E80DMS02","HANA-HDQ","HANA_HPR","MK-AUGUSTA","SAP-ADQ","SAP-ARP","SAPROUTER-AR","ITGAADAWS01","ITGDCAWS01","ITGSAPPROD","ITGSAPRTR","ITGSAPTEST","ITGSOLMAN","ITGSQLPROD","ITGSQLTEST","ITGTS01","MK-ItalGen","MK-NITAL","NIT-HANADR-PRH","nit-hana-prh","nit-hana-qah","nit-sap-nep","nit-sap-net","nit-saprouter","nitsapesxi01.azienda.lan","nitsapesxi02.azienda.lan","nitsapvcenter01.azienda.lan","FP-CS-CSD","FP-CS-CSP","FP-HANA-DVH","FP-HANA-PRH","FP-HANA-QUH","FP-RTRWDSCC","FP-SAP-F4D","FP-SAP-F4Q","FP-SAPAS1-F4P","FP-SAPMS-F4P","FP-SOLMAN","MK-FOPE","MK-SISMA","SISCSBCCDEV","SISCSBCCPRD","SISHANADVH","SISHANAPRH","SISHANAQUH","SISSAPROUTER","SISSAPS4D","SISSAPS4PAS1","SISSAPS4PAS2","SISSAPS4PMS","SISSAPS4Q","SISSAPSMA","MK-ERIDANIA","SVDAS4FST1","SVPECCFST1","SVPHANFST1","SVSHANFST1","MK-FABBRICA","SAPLLCDEV","SAPLLCPRD","SAPLLCQAS","SAPROUTER","MK-EcoDiBergamo","VMBG-SAPPROD","VMBG-SAPSBOX","AR-SRV-190120","AR-SRV-190123","AR-SRV-190174","AR-SRV-190180","AR-SRV-190214","AREA021","AREA023","MK-AETNA","SAPAETADS","SAPAETAS1","SAPAETAS2","SAPAETB4D","SAPAETB4P","SAPAETCSD","SAPAETCSP","SAPAETDEV2","SAPAETHAD2","SAPAETHAP2","SAPAETPRD","SAPAETQAS2","SAPAETSLTBID","SAPAETSLTBIP","CAS-HANA-DVH","CAS-HANA-PRH","CAS-HANA-QUH","CAS-SAPAS-C4D","CAS-SAPAS-C4P","CAS-SAPAS-C4Q","MK-CASONI","MK-ZENIT","SAPPRD3","LIFESAPRT","LIFESRVDEV","LIFESRVPRD","MK-LIFE","CBSAPAPL1","CBSAPAPL2","CBSAPBPCDEV","CBSAPBPCPRD","CBSAPDEV","CBSAPDMSPRD","CBSAPDMSTST","CBSAPPIDEV","CBSAPPIPRD","CBSAPPRD","CBSAPSLM","CBSAPTST","MK-COBO","DSEDERPWD01","MK-SEVES","PSEDBWAS01","PSEDBWDB01","MK-SESA","S4DEV","S4HDBDEVTST","S4PRD","S4TST","SESA_LINUX_DB_PRD","s4hdbprd","ITMADC01","ITMADC02","ITMAPP01","ITMAPP02","ITMAPPDEV","ITMAPPPRD","ITMFLS01","ITMRADIUS","ITMRAP01","ITMSADS01","ITMSADS02","ITMSAPROUTER","ITMSCOODOLOG","ITMSOLMAN","ITMTS01","MK-Italmobiliare","SAPIMD","SAPIMDHANA","SAPIMP","SAPIMPHANA","SAPIMT","HANA-AS-01","HANA-AS-S01","HANA-AS-T01","HANA-WDS-01","MK-MAXMARA","SAP-DB-PI","SAP-DB-PI-T","SAP-HANA-01","SAP-HANA-02","SAP-HANA-CC","SAP-HANA-CC2","SAP-HANA-DR-01","SAP-IQ-01","SAP-IQ-T01","SAP-PI-01","SAP-PI-02","SAP-PI-S01","SAP-PI-T01","SAP-PI-T02","SAP-RE-01","SAP-RE-S01","SAP-RE-T01","SAP-REDR-01","SAP-REHA-01","SAP-REPR-01","SAP-SOLMNG-01","MK-OCME","OCMEPR21","OCMEPR22","SAPOCM-DEV","SAPOCM-PRD-A","SAPOCM-PRD-B","SAPOCM-PRD-CI","SAPOCM-QAS","DGBWPROD02","DGBWSVIL02","DGCRMPR","DGSAPPRODAP01","DGSAPPRODAP02","DGSAPPRODDB01","DGSAPSVIL01","DGSAPTEST01","MK-Dasit","MK-PIAM","PIAMADS","PIAMDEV","PIAMFTP","PIAMPRD","PIAMQAS","PIAMROUTER","IT-SCS01","IT-SCS02","IT-SDEVA01","IT-SHN03","IT-SHN04","IT-SPRDA01","IT-SPRDA02","IT-SQASA01","IT-SRTR01","MK-STULZ","KL-BCP01","KL-BCS01","KL-BPP01","KL-BPS01","KL-SRVSAPBIP","KL-SRVSAPBIS","KL-SRVSAPBIT","MK-KEYLINE","FRG-AZVM-0002","FRG-AZVM-0007","FRG-AZVM-0008","FRG-AZVM-0009","FRG-AZVM-0010","FRG-AZVM-0012","FRG-AZVM-0013","FRG-AZVM-0014","FRG-AZVM-0015","MK-FERRETTI","MK-MIPOT","SRVMIPIUNGO","SRVMIPSAPDEV","SRVMIPSAPPRD","SRVMIPSAPROUTER","MK-SECONDOMONA","SM-CLOUDCONNEXA","SM_HANA_DQH","SM_HANA_PRH","SM_SAPROUTER","SM_SAP_M4D","SM_SAP_M4P","SM_SAP_M4Q","SM_SOLMAN","CSMI-CRAPL01","CSMI-TRXPL01","MK-AWSMAXMARA","MM-ORADB-EMP","MM-ORADB-EMT","MM-ORADB-GMP","MM-ORADB-GMT","MM-SAP-EMD","MM-SAP-GMD","MM-SAP-SMG","MM-SAP-WDP","MM-SAP-WDT","MM-SAPAS1-EMT","MM-SAPAS1-GMP","MM-SAPAS1-GMT","MM-SAPAS2-EMP","MM-SAPAS2-EMT","MM-SAPAS2-GMP","MM-SAPAS2-GMT","MM-SAPMS-EMP","MM-SAPMS-EMT","MM-SAPMS-GMP","MM-SAPMS-GMT","MM-SAPPAS1-EMP","MM-SAPROUTER","MK-MSAMBROGIO","msa-hanaprod","msa-hanaqual","msa-hanasvil","msa-poprod","msa-posvil","msa-s4prd1","msa-s4prd2","msa-s4prdci","msa-solman","msabo","msabosvil","msadpaprod","msadpasvil","msadwhprod","msadwhsvil","msasaprouter","LNXHANADVH01","LNXHANAPRH01","LNXHANAPRH02","LNXHANAQUH01","LNXSAPH4D01","LNXSAPH4P01","LNXSAPH4P02","LNXSAPH4PASCS","LNXSAPH4PERS","LNXSAPH4Q01","LNXSAPHBD01","LNXSAPHBP01","LNXSAPHBP02","LNXSAPHBPASCS","LNXSAPHBPERS","LNXSAPHCD01","LNXSAPHCP01","LNXSAPHRP01","LNXSAPHSA01","LNXSAPNFS01","MK-HIPAC","MI-FPSD-PRD","MI-HANAHCS","MI-SAPBWH","MI-SAPHORBWP_WIN_BWP","MI-SAPRTR-PRD","MI-SAPS4G","MI-SAPS4T","MI-SAPSOL-PRD","MK-INTERNI","SAPHORPRD_WIN_PRD","SAPHORSVI","ELUESPCI","ELUESTCI","ELUMATEC_LINUX_CS","MK-VOILAP","ATVBCCPRD","ATVCSACP","ATVHANADVH","ATVHANAPRH","ATVHANAQAH","ATVSAPA4D","ATVSAPA4P","ATVSAPA4Q","ATVSAPADS","ATVSAPROUTER","MK-ATTIVA","GD-HANADEV","GD-HANAPRD","GD-HANATST","GD-SAP-DEV","GD-SAPGW01","GD-SAPPRD","GD-SAPSM","GD-SAPTST01","MK-Dorigo","HSTHAN01P","HSTHAN02P","HSTHAN03P","HSTHAN04P","SRVBW02D","SRVBW02D_AS","SRVBW02P","SRVBW02T","SRVERP02P","SRVERP02T","SRVERP02Y","SRVPO03P","SRVPOW01P","SRVSRT02P","MK-Pagani","SAP-BWP","SAP-BWQ","SAP-PAP","SAP-PAS","MK-EUROCAP","MK-Sit","SAPCSPRD","SITDBIAS01","SITDBIDB03","SITDBW4AS01","SITDBW4DB03","SITDERPAS01","SITDERPDB03","SITPBIAS01","SITPBIDB03","SITPBW4AS01","SITPBW4DB03","SITPERPAS01","SITPERPDB03","SITPSSM01N","SITQERPAS01","SITQERPDB03","SITTERPAS01","hbluroot","MK-Fracarro","SAPPRD","SAPTST-DEV","SAPWEBDSP","MK-TELWIN","TLW-SACWEB","TLW-SDR1A001","TLW-SDW1A001","TLW-SHN03","TLW-SHN04","TLW-SPR1A01","TLW-SPR1A02","TLW-SPW1A01","TLW-SQR1A001","TLW-SWBJ001","MAUCE08","MIGE435","MIGE436","MIGE437","MIGEE06","MIGEE0C","MIGEE0D","MIGEE0E","MIGEE0F","MIGEE1A","MIGEE1B","MIGEE1C","MIGEE1D","MIGEE8F","MIGEF09","MIGEF10","MIGEF11","MIGEF12","MIGEF19","MIGEG38","MIGEG39","MIGEG40","MIGEG41","MK-CATTOLICA","iDRAC435","iDRAC436","iDRAC437","MAUPRD1HANA","MAUSAPSVI","MAUTSTHANA","MK-MAURELLI","SAPMAUQAS","SRVSAP01","SRVSAPAAS01","SRVSAPAAS02","SRVSAPCSPRD","SRVSAPCSSVI","SRVSAPFES01","SRVSCPI","SRVTREX03","MK-ORION","SAPORIPROD","SAPORIQUAL","SAPORIRTR","SAPORISVIL","MILHANADVH","MILHANAPRH","MILHANAQUH","MILSAPCLOUD","MILSAPMED","MILSAPMEP01","MILSAPMEP02","MILSAPMEPASCS","MILSAPMEQ","MILSAPMPD","MILSAPMPP","MILSAPRTR","MILSAPSM","MK-MILA","MK-VULCANGAS","VULHANADVH","VULHANAPRH","VULHANAQUH","VULSAPSM","VULSAPV4D","VULSAPV4P","VULSAPV4Q","MK-PRONTOPACK","PP-HANA-DVH","PP-HANA-PRH","PP-HANA-QAH","PP-SAPCC01","PP-SAPFE-NAP","PP-SAPROUTER","PP-SAPS4-R4D","PP-SAPS4-R4P","PP-SAPS4-R4Q"]}
[2025-10-31 11:16:35] ----------------------------
[2025-10-31 11:16:35] [0;32mRISULTATO: PASS (HTTP 200)[0m
[2025-10-31 11:16:35] [1;33m--- FINE TEST: Get Hosts ---[0m

[2025-10-31 11:16:35] [1;33m-----------------------------------------------------[0m
[2025-10-31 11:16:35] [1;33m--- INIZIO TEST: Get Stats ---[0m
[2025-10-31 11:16:35] [0;34mEndpoint: GET http://localhost:8000/api/stats[0m
[2025-10-31 11:16:35] Auth: S√¨ (Token fornito)
[2025-10-31 11:17:07] Risposta (HTTP 200) ricevuta in 32s
[2025-10-31 11:17:07] --- Corpo della Risposta ---
    {"totalHosts":586,"activeDowntimes":0}
[2025-10-31 11:17:07] ----------------------------
[2025-10-31 11:17:07] [0;32mRISULTATO: PASS (HTTP 200)[0m
[2025-10-31 11:17:07] [1;33m--- FINE TEST: Get Stats ---[0m

[2025-10-31 11:17:07] [1;33m-----------------------------------------------------[0m
[2025-10-31 11:17:07] [1;33m--- INIZIO TEST: Get Downtimes ---[0m
[2025-10-31 11:17:07] [0;34mEndpoint: GET http://localhost:8000/api/downtimes[0m
[2025-10-31 11:17:07] Auth: S√¨ (Token fornito)
[2025-10-31 11:17:07] Risposta (HTTP 404) ricevuta in 0s
[2025-10-31 11:17:07] --- Corpo della Risposta ---
    {"detail":"Not Found"}
[2025-10-31 11:17:07] ----------------------------
[2025-10-31 11:17:07] [0;31mRISULTATO: FAIL (HTTP 404)[0m
[2025-10-31 11:17:07] [1;33m--- FINE TEST: Get Downtimes ---[0m

[2025-10-31 11:17:07] [1;33mATTENZIONE: Il test /schedule (Test 5) user√† l'host 'un-host-di-esempio'.[0m
[2025-10-31 11:17:07] [1;33mAssicurati che sia un host valido o modifica lo script.[0m
[2025-10-31 11:17:10] [1;33m-----------------------------------------------------[0m
[2025-10-31 11:17:10] [1;33m--- INIZIO TEST: Schedule Downtime (Test) ---[0m
[2025-10-31 11:17:10] [0;34mEndpoint: POST http://localhost:8000/api/schedule[0m
[2025-10-31 11:17:10] Auth: S√¨ (Token fornito)
[2025-10-31 11:17:10] Payload: {"host":"un-host-di-esempio","giorni":[0,1,2,3,4,5,6],"startTime":"23:00","endTime":"23:05","ripeti":0,"commento":"Test API da script automatico"}
[2025-10-31 11:17:27] Risposta (HTTP 200) ricevuta in 17s
[2025-10-31 11:17:27] --- Corpo della Risposta ---
    {"start_times":["2025-10-31T23:00:00+01:00"],"end_times":["2025-10-31T23:05:00+01:00"],"responses":["Error 400"]}
[2025-10-31 11:17:27] ----------------------------
[2025-10-31 11:17:27] [0;32mRISULTATO: PASS (HTTP 200)[0m
[2025-10-31 11:17:27] [1;33m--- FINE TEST: Schedule Downtime (Test) ---[0m

[2025-10-31 11:17:27] Tutti i test sono completati.
[2025-10-31 11:17:27] Controllare api_test.log per i dettagli completi delle risposte.
