[2025-10-31 12:08:30] Inizio test API backend... (Log completo in api_test.log)
[2025-10-31 12:08:30] URL Base: http://localhost:8000/api
[2025-10-31 12:08:30] Token (primi 10 caratteri): eyJraWQiOi...
[2025-10-31 12:08:30] [1;33m-----------------------------------------------------[0m
[2025-10-31 12:08:30] [1;33m--- INIZIO TEST: Connection Test ---[0m
[2025-10-31 12:08:30] [0;34mEndpoint: GET http://localhost:8000/api/connection-test[0m
[2025-10-31 12:08:30] Auth: No
[2025-10-31 12:11:05] Risposta (HTTP 200) ricevuta in 155s
[2025-10-31 12:11:05] --- Corpo della Risposta ---
[2025-10-31 12:11:05] ----------------------------
    {"status":"success","message":"Connected to Checkmk vunknown in 10.56s"}
[2025-10-31 12:11:05] [0;32mRISULTATO: PASS (HTTP 200)[0m
[2025-10-31 12:11:05] [1;33m--- FINE TEST: Connection Test ---[0m

[2025-10-31 12:11:05] [1;33m-----------------------------------------------------[0m
[2025-10-31 12:11:05] [1;33m--- INIZIO TEST: Get Hosts ---[0m
[2025-10-31 12:11:05] [0;34mEndpoint: GET http://localhost:8000/api/hosts[0m
[2025-10-31 12:11:05] Auth: S√¨ (Token fornito)
[2025-10-31 12:12:07] Risposta (HTTP 401) ricevuta in 62s
[2025-10-31 12:12:07] --- Corpo della Risposta ---
    {"detail":"Token has expired."}
[2025-10-31 12:12:07] ----------------------------
[2025-10-31 12:12:07] [0;31mRISULTATO: FAIL (HTTP 401)[0m
[2025-10-31 12:12:07] [1;33m--- FINE TEST: Get Hosts ---[0m

[2025-10-31 12:12:07] [1;33m-----------------------------------------------------[0m
[2025-10-31 12:12:07] [1;33m--- INIZIO TEST: Get Stats ---[0m
[2025-10-31 12:12:07] [0;34mEndpoint: GET http://localhost:8000/api/stats[0m
[2025-10-31 12:12:07] Auth: S√¨ (Token fornito)
[2025-10-31 12:12:07] Risposta (HTTP 401) ricevuta in 0s
[2025-10-31 12:12:07] --- Corpo della Risposta ---
    {"detail":"Token has expired."}
[2025-10-31 12:12:07] ----------------------------
[2025-10-31 12:12:07] [0;31mRISULTATO: FAIL (HTTP 401)[0m
[2025-10-31 12:12:07] [1;33m--- FINE TEST: Get Stats ---[0m

[2025-10-31 12:12:07] [1;33m-----------------------------------------------------[0m
[2025-10-31 12:12:07] [1;33m--- INIZIO TEST: Get Downtimes ---[0m
[2025-10-31 12:12:07] [0;34mEndpoint: GET http://localhost:8000/api/downtimes[0m
[2025-10-31 12:12:07] Auth: S√¨ (Token fornito)
[2025-10-31 12:12:07] Risposta (HTTP 404) ricevuta in 0s
[2025-10-31 12:12:07] --- Corpo della Risposta ---
    {"detail":"Not Found"}
[2025-10-31 12:12:07] ----------------------------
[2025-10-31 12:12:07] [0;31mRISULTATO: FAIL (HTTP 404)[0m
[2025-10-31 12:12:07] [1;33m--- FINE TEST: Get Downtimes ---[0m

[2025-10-31 12:12:07] [1;33mATTENZIONE: Il test /schedule (Test 5) user√† l'host 'un-host-di-esempio'.[0m
[2025-10-31 12:12:07] [1;33mAssicurati che sia un host valido o modifica lo script.[0m
[2025-10-31 12:12:10] [1;33m-----------------------------------------------------[0m
[2025-10-31 12:12:10] [1;33m--- INIZIO TEST: Schedule Downtime (Test) ---[0m
[2025-10-31 12:12:10] [0;34mEndpoint: POST http://localhost:8000/api/schedule[0m
[2025-10-31 12:12:10] Auth: S√¨ (Token fornito)
[2025-10-31 12:12:10] Payload: {"host":"un-host-di-esempio","giorni":[0,1,2,3,4,5,6],"startTime":"23:00","endTime":"23:05","ripeti":0,"commento":"Test API da script automatico"}
[2025-10-31 12:12:10] Risposta (HTTP 401) ricevuta in 0s
[2025-10-31 12:12:10] --- Corpo della Risposta ---
    {"detail":"Token has expired."}
[2025-10-31 12:12:10] ----------------------------
[2025-10-31 12:12:10] [0;31mRISULTATO: FAIL (HTTP 401)[0m
[2025-10-31 12:12:10] [1;33m--- FINE TEST: Schedule Downtime (Test) ---[0m

[2025-10-31 12:12:10] Tutti i test sono completati.
[2025-10-31 12:12:10] Controllare api_test.log per i dettagli completi delle risposte.
